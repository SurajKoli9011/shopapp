{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{updateUserEmail,updateUserId}=_ref;const[formData,setFormData]=useState({email:'',password:''});const[errors,setErrors]=useState({});const navigate=useNavigate();const handleInputChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});setErrors({...errors,[e.target.name]:''});};const handleSubmit=async e=>{e.preventDefault();const{email,password}=formData;// Hardcoded admin credentials\nif(email==='surajkoli9011@gmail.com'&&password==='Suraj@123'){console.log('Admin login successful');updateUserEmail(email);updateUserId(1);// You can set a hardcoded ID for admin or fetch it dynamically if needed\nnavigate('/admin');// Navigate to the admin dashboard\nreturn;}try{const response=await axios.post('http://localhost:8095/auth/authenticate',formData);console.log('Login successful:',response.data);updateUserEmail(email);// Update user email\nupdateUserId(response.data.id);// Update userId\nnavigate('/');// Navigate to home or dashboard after login\n}catch(error){console.error('Login failed:',error);// Handle error appropriately\n}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gradient-to-r\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-md shadow-md w-full max-w-md bg-gradient-to-r from-cyan-300 to-indigo-600\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4 text-center\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-gray-700 font-bold mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,className:\"w-full px-4 py-2 border rounded-md\",required:true}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-sm\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-gray-700 font-bold mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,className:\"w-full px-4 py-2 border rounded-md\",required:true}),errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-sm\",children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-orange-500 text-white py-2 rounded-md hover:bg-blue-700\",children:\"Login\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","updateUserEmail","updateUserId","formData","setFormData","email","password","errors","setErrors","navigate","handleInputChange","e","target","name","value","handleSubmit","preventDefault","console","log","response","post","data","id","error","className","children","onSubmit","htmlFor","type","onChange","required"],"sources":["E:/downloads/shopping-app/shopping-app/src/components/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Login = ({ updateUserEmail, updateUserId }) => {\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    const [errors, setErrors] = useState({});\r\n    const navigate = useNavigate();\r\n\r\n    const handleInputChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n        setErrors({ ...errors, [e.target.name]: '' });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const { email, password } = formData;\r\n\r\n        // Hardcoded admin credentials\r\n        if (email === 'surajkoli9011@gmail.com' && password === 'Suraj@123') {\r\n            console.log('Admin login successful');\r\n            updateUserEmail(email);\r\n            updateUserId(1); // You can set a hardcoded ID for admin or fetch it dynamically if needed\r\n            navigate('/admin'); // Navigate to the admin dashboard\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:8095/auth/authenticate', formData);\r\n            console.log('Login successful:', response.data);\r\n            updateUserEmail(email); // Update user email\r\n            updateUserId(response.data.id); // Update userId\r\n            navigate('/'); // Navigate to home or dashboard after login\r\n        } catch (error) {\r\n            console.error('Login failed:', error);\r\n            // Handle error appropriately\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-r\">\r\n            <div className=\"bg-white p-8 rounded-md shadow-md w-full max-w-md bg-gradient-to-r from-cyan-300 to-indigo-600\">\r\n                <h2 className=\"text-2xl font-bold mb-4 text-center\">Login</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"mb-4\">\r\n                        <label htmlFor=\"email\" className=\"block text-gray-700 font-bold mb-2\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            value={formData.email}\r\n                            onChange={handleInputChange}\r\n                            className=\"w-full px-4 py-2 border rounded-md\"\r\n                            required\r\n                        />\r\n                        {errors.email && <span className=\"text-red-500 text-sm\">{errors.email}</span>}\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                        <label htmlFor=\"password\" className=\"block text-gray-700 font-bold mb-2\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            value={formData.password}\r\n                            onChange={handleInputChange}\r\n                            className=\"w-full px-4 py-2 border rounded-md\"\r\n                            required\r\n                        />\r\n                        {errors.password && <span className=\"text-red-500 text-sm\">{errors.password}</span>}\r\n                    </div>\r\n                    <button type=\"submit\" className=\"w-full bg-orange-500 text-white py-2 rounded-md hover:bg-blue-700\">Login</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAAuC,IAAtC,CAAEC,eAAe,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAC5C,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CACrCa,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAAC,CAEF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAAAiB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAgB,iBAAiB,CAAIC,CAAC,EAAK,CAC7BP,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAE,CAACQ,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAAM,CAAC,CAAC,CAC7DN,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAE,CAACI,CAAC,CAACC,MAAM,CAACC,IAAI,EAAG,EAAG,CAAC,CAAC,CACjD,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAElB,KAAM,CAAEX,KAAK,CAAEC,QAAS,CAAC,CAAGH,QAAQ,CAEpC;AACA,GAAIE,KAAK,GAAK,yBAAyB,EAAIC,QAAQ,GAAK,WAAW,CAAE,CACjEW,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrCjB,eAAe,CAACI,KAAK,CAAC,CACtBH,YAAY,CAAC,CAAC,CAAC,CAAE;AACjBO,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACpB,OACJ,CAEA,GAAI,CACA,KAAM,CAAAU,QAAQ,CAAG,KAAM,CAAA1B,KAAK,CAAC2B,IAAI,CAAC,yCAAyC,CAAEjB,QAAQ,CAAC,CACtFc,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEC,QAAQ,CAACE,IAAI,CAAC,CAC/CpB,eAAe,CAACI,KAAK,CAAC,CAAE;AACxBH,YAAY,CAACiB,QAAQ,CAACE,IAAI,CAACC,EAAE,CAAC,CAAE;AAChCb,QAAQ,CAAC,GAAG,CAAC,CAAE;AACnB,CAAE,MAAOc,KAAK,CAAE,CACZN,OAAO,CAACM,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrC;AACJ,CACJ,CAAC,CAED,mBACI3B,IAAA,QAAK4B,SAAS,CAAC,gEAAgE,CAAAC,QAAA,cAC3E3B,KAAA,QAAK0B,SAAS,CAAC,gGAAgG,CAAAC,QAAA,eAC3G7B,IAAA,OAAI4B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAC9D3B,KAAA,SAAM4B,QAAQ,CAAEX,YAAa,CAAAU,QAAA,eACzB3B,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjB7B,IAAA,UAAO+B,OAAO,CAAC,OAAO,CAACH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cACnF7B,IAAA,UACIgC,IAAI,CAAC,OAAO,CACZN,EAAE,CAAC,OAAO,CACVT,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEX,QAAQ,CAACE,KAAM,CACtBwB,QAAQ,CAAEnB,iBAAkB,CAC5Bc,SAAS,CAAC,oCAAoC,CAC9CM,QAAQ,MACX,CAAC,CACDvB,MAAM,CAACF,KAAK,eAAIT,IAAA,SAAM4B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAElB,MAAM,CAACF,KAAK,CAAO,CAAC,EAC5E,CAAC,cACNP,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjB7B,IAAA,UAAO+B,OAAO,CAAC,UAAU,CAACH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cACzF7B,IAAA,UACIgC,IAAI,CAAC,UAAU,CACfN,EAAE,CAAC,UAAU,CACbT,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEX,QAAQ,CAACG,QAAS,CACzBuB,QAAQ,CAAEnB,iBAAkB,CAC5Bc,SAAS,CAAC,oCAAoC,CAC9CM,QAAQ,MACX,CAAC,CACDvB,MAAM,CAACD,QAAQ,eAAIV,IAAA,SAAM4B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAElB,MAAM,CAACD,QAAQ,CAAO,CAAC,EAClF,CAAC,cACNV,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,mEAAmE,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChH,CAAC,EACN,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA1B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}