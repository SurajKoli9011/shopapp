{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserProfile(_ref){let{userEmail}=_ref;const[userDetails,setUserDetails]=useState(null);const[loading,setLoading]=useState(true);const[isEditing,setIsEditing]=useState(false);const[editedDetails,setEditedDetails]=useState(null);const[userId,setUserId]=useState(null);const handleEdit=()=>{setIsEditing(true);setEditedDetails({...userDetails});};const handleSave=async()=>{try{const updateUserUrl=`http://localhost:8095/auth/updateUser/${userEmail}`;await axios.put(updateUserUrl,editedDetails);setUserDetails({...editedDetails});setIsEditing(false);}catch(error){console.error('Error updating user details:',error);}};const handleChange=e=>{const{name,value}=e.target;setEditedDetails(prevState=>({...prevState,[name]:value}));};useEffect(()=>{const fetchUserDetails=async()=>{try{const response=await axios.get(`http://localhost:8095/auth/getByEmail?email=${userEmail}`);setUserDetails(response.data);setUserId(response.data.userId);setLoading(false);}catch(error){console.error('Error fetching user details:',error);setLoading(false);}};fetchUserDetails();},[userEmail]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-10\",children:\"Loading...\"});}if(!userDetails){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-10\",children:\"No user details found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto max-w-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-6 text-center\",children:\"User Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-lg rounded-lg p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2\",children:\"First Name:\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:editedDetails.firstName,onChange:handleChange,className:\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:userDetails.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2\",children:\"Last Name:\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:editedDetails.lastName,onChange:handleChange,className:\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:userDetails.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:userDetails.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2\",children:\"Mobile Number:\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"mobileNo\",value:editedDetails.mobileNo,onChange:handleChange,className:\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:userDetails.mobileNo})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-medium mb-2\",children:\"Address:\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:editedDetails.address,onChange:handleChange,className:\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:userDetails.address})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:isEditing?/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md focus:outline-none focus:ring focus:ring-blue-300\",children:\"Save\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"bg-green-500 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md focus:outline-none focus:ring focus:ring-green-300\",children:\"Edit\"})})]})]});}export default UserProfile;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UserProfile","_ref","userEmail","userDetails","setUserDetails","loading","setLoading","isEditing","setIsEditing","editedDetails","setEditedDetails","userId","setUserId","handleEdit","handleSave","updateUserUrl","put","error","console","handleChange","e","name","value","target","prevState","fetchUserDetails","response","get","data","className","children","type","firstName","onChange","lastName","email","mobileNo","address","onClick"],"sources":["E:/downloads/shopping-app/shopping-app/src/components/UserProfile/UserProfile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction UserProfile({ userEmail }) {\r\n  const [userDetails, setUserDetails] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedDetails, setEditedDetails] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n    setEditedDetails({ ...userDetails });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      const updateUserUrl = `http://localhost:8095/auth/updateUser/${userEmail}`;\r\n      await axios.put(updateUserUrl, editedDetails);\r\n      setUserDetails({ ...editedDetails });\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      console.error('Error updating user details:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditedDetails(prevState => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:8095/auth/getByEmail?email=${userEmail}`);\r\n        setUserDetails(response.data);\r\n        setUserId(response.data.userId);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserDetails();\r\n  }, [userEmail]);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center mt-10\">Loading...</div>;\r\n  }\r\n\r\n  if (!userDetails) {\r\n    return <div className=\"text-center mt-10\">No user details found</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto max-w-md p-6\">\r\n      <h2 className=\"text-2xl font-semibold mb-6 text-center\">User Details</h2>\r\n      <div className=\"bg-white shadow-lg rounded-lg p-8\">\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-medium mb-2\">First Name:</label>\r\n          {isEditing ? (\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={editedDetails.firstName}\r\n              onChange={handleChange}\r\n              className=\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-gray-700\">{userDetails.firstName}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-medium mb-2\">Last Name:</label>\r\n          {isEditing ? (\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={editedDetails.lastName}\r\n              onChange={handleChange}\r\n              className=\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-gray-700\">{userDetails.lastName}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-medium mb-2\">Email:</label>\r\n          <p className=\"text-gray-700\">{userDetails.email}</p>\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-medium mb-2\">Mobile Number:</label>\r\n          {isEditing ? (\r\n            <input\r\n              type=\"text\"\r\n              name=\"mobileNo\"\r\n              value={editedDetails.mobileNo}\r\n              onChange={handleChange}\r\n              className=\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-gray-700\">{userDetails.mobileNo}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 text-sm font-medium mb-2\">Address:</label>\r\n          {isEditing ? (\r\n            <input\r\n              type=\"text\"\r\n              name=\"address\"\r\n              value={editedDetails.address}\r\n              onChange={handleChange}\r\n              className=\"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200\"\r\n            />\r\n          ) : (\r\n            <p className=\"text-gray-700\">{userDetails.address}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"flex items-center justify-between\">\r\n          {isEditing ? (\r\n            <button\r\n              onClick={handleSave}\r\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md focus:outline-none focus:ring focus:ring-blue-300\"\r\n            >\r\n              Save\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={handleEdit}\r\n              className=\"bg-green-500 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md focus:outline-none focus:ring focus:ring-green-300\"\r\n            >\r\n              Edit\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}